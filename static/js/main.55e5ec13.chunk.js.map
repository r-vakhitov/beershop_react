{"version":3,"sources":["router/paths.js","components/Nav/Nav.js","redux/types.js","components/Loader/Loader.js","components/Item/Item.js","redux/actions.js","components/ItemsContainer/ItemsContainer.js","components/SearchPanel/SearchPanel.js","customHooks/useDebounce.js","components/PreloadCatalog/PreloadCatalog.js","components/CatalogItems/CatalogItems.js","components/Catalog/Catalog.js","components/Home/Home.js","components/About/About.js","components/App/App.js","redux/appReducer.js","redux/itemsReducer.js","redux/fetchClickReducer.js","redux/reducer.js","store.js","index.js"],"names":["CATALOG_URL","ABOUT_URL","Nav","linkStyle","color","textDecoration","className","style","to","FETCH_CATALOG","SHOW_LOADER","HIDE_LOADER","ADD_ALL_TO_BASKET","REMOVE_ALL_FROM_BASKET","DRAG_ITEM","ADD_TO_BASKET","REMOVE_FROM_BASKET","ON_INPUT","FETCH_CLICK","Loader","Item","content","id","inBasket","useSelector","state","catalog","items","columns","dispatch","useDispatch","button","itemsIds","includes","onClick","e","item","target","type","payload","ItemsContainer","props","myref","React","createRef","numToShow","intersectionObserver","IntersectionObserver","entries","intersectionRatio","setState","this","observe","current","byIds","renderButton","droppableId","provided","snapshot","droppableProps","ref","innerRef","background","isDraggingOver","slice","map","index","draggableId","draggableProps","dragHandleProps","backgroundColor","isDragging","name","placeholder","Component","connect","onInput","text","trim","onInputSearch","useState","term","setTerm","debouncedSearchTerm","value","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","onChange","PreloadCatalog","allowToClick","setAllow","input1","useRef","input2","inputs","checkHandler","some","input","checked","htmlFor","disabled","a","fetch","response","json","forEach","el","other","push","toString","console","log","CatalogItems","inStock","isLoading","app","loading","isEmpty","arr","length","isClicked","clicked","addAllHandler","removeAllHandler","Fragment","onDragEnd","result","dragItem","Catalog","Home","About","App","path","exact","component","initialState","fetchCatalogReducer","action","dragItemReducer","destination","source","start","finish","newItemsIds","splice","newColumn","startItemsId","startColumn","finishItemsId","finishColumn","addAllToBasketReducer","removeAllFromBasketReducer","addToBasketReducer","addedItemIdx","indexOf","removeFromBasketReducer","removedItemIdx","onInputReducer","searchText","Object","keys","filter","key","toLowerCase","reducer","combineReducers","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.55e5ec13.chunk.js","sourcesContent":["export const MAIN_URL=\"/\";\r\nexport const CATALOG_URL=\"/catalog\";\r\nexport const ABOUT_URL=\"/about\";\r\n\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./Nav.css\";\nimport {MAIN_URL, CATALOG_URL, ABOUT_URL} from '../../router/paths';\n\nfunction Nav() {\n  const linkStyle = {\n    color: \"#FFFFFF\",\n    textDecoration: \"none\",\n  };\n\n  return (\n    <div className=\"nav-wrapper\">\n      <nav className=\"nav\">\n        <h2>BeerShop</h2>\n        <ul className=\"nav__list\">\n          <Link style={linkStyle} to={MAIN_URL}>\n            <li>Home</li>\n          </Link>\n          <Link style={linkStyle} to={CATALOG_URL}>\n            <li>Catalog</li>\n          </Link>\n          <Link style={linkStyle} to={ABOUT_URL}>\n            <li>About</li>\n          </Link>\n        </ul>\n      </nav>\n    </div>\n  );\n}\n\nexport default Nav;\n","export const FETCH_CATALOG = \"FETCH_CATALOG\";\nexport const SHOW_LOADER = \"SHOW_LOADER\";\nexport const HIDE_LOADER = \"HIDE_LOADER\";\nexport const ADD_ALL_TO_BASKET = \"ADD_ALL_TO_BASKET\";\nexport const REMOVE_ALL_FROM_BASKET = \"REMOVE_ALL_FROM_BASKET\";\nexport const DRAG_ITEM = \"DRAG_ITEM\";\nexport const ADD_TO_BASKET = \"ADD_TO_BASKET\";\nexport const REMOVE_FROM_BASKET = \"REMOVE_FROM_BASKET\";\nexport const ON_INPUT = \"ON_INPUT\";\nexport const FETCH_CLICK = \"FETCH_CLICK\";","import React from \"react\";\nimport \"./Loader.css\";\n\nfunction Loader() {\n  return (\n    <div className=\"loadingio-spinner-bean-eater-6o1jck7o6s5\">\n      <div className=\"ldio-7slxxstf83s\">\n        <div>\n          <div/>\n          <div/>\n          <div/>\n        </div>\n        <div>\n          <div/>\n          <div/>\n          <div/>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Loader;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToBasket, removeFromBasket} from \"../../redux/actions\";\nimport \"./Item.css\";\n\nfunction Item({ content, id }) {\n  const {inBasket} = useSelector((state) => state.catalog.items.columns);\n  const dispatch = useDispatch();\n\n  const addHandler = (e) => {\n    dispatch(addToBasket(e.target.id))\n  }\n  const removeHandler = (e) => {\n    dispatch(removeFromBasket(e.target.id))\n  }\n\n  const isNotInBasket = !inBasket.itemsIds.includes(id);\n\n  const button = isNotInBasket ? (\n    <button\n      id={id}\n      onClick={addHandler}\n      type=\"button\"\n      className=\"item__btn item__btn--basket\"/>\n  ) : (\n    <button\n      id={id}\n      onClick={removeHandler}\n      type=\"button\"\n      className=\"item__btn item__btn--rmv\"\n    />);\n  \n  return  (\n    <div className=\"item\">\n      <span className=\"item__name\">{content}</span>\n      {button}\n    </div>\n  );\n}\n\nexport default Item;\n","import {\n  ADD_ALL_TO_BASKET,\n  REMOVE_ALL_FROM_BASKET,\n  FETCH_CATALOG,\n  HIDE_LOADER,\n  SHOW_LOADER,\n  DRAG_ITEM,\n  ADD_TO_BASKET,\n  REMOVE_FROM_BASKET,\n  ON_INPUT,\n  FETCH_CLICK\n} from \"./types\";\n\nexport function fetchCatalog() {\n  return async (dispatch) => {\n    try {\n      dispatch(showLoader());\n      const response = await fetch(\n        \"https://api.punkapi.com/v2/beers?per_page=80\"\n      );\n      const json = await response.json();\n      const itemsIds = [];\n      const byIds = {};\n      json.forEach((el) => {\n        const { id, ...other } = el;\n        itemsIds.push(id.toString());\n        byIds[id] = { ...other };\n      });\n      dispatch({\n        type: FETCH_CATALOG,\n        payload: {\n          columns: {\n            \"inStock\": {\n              id: \"inStock\",\n              itemsIds\n            },\n            \"inBasket\": {\n              id: \"inBasket\",\n              itemsIds: []\n            }\n          },\n          byIds,\n        },\n      });\n      dispatch(hideLoader());\n    } catch (e) {\n      console.log(e);\n    }\n  };\n}\n\nexport function showLoader() {\n  return {\n    type: SHOW_LOADER,\n  };\n}\n\nexport function hideLoader() {\n  return {\n    type: HIDE_LOADER,\n  };\n}\n\nexport function addAllToBasket(item) {\n  return {\n    type: ADD_ALL_TO_BASKET,\n    payload: item,\n  };\n}\n\nexport function removeAllFromBasket(item) {\n  return {\n    type: REMOVE_ALL_FROM_BASKET,\n    payload: item,\n  };\n}\n\nexport function dragItem(result) {\n  return {\n    type: DRAG_ITEM,\n    result,\n  };\n}\n\nexport function addToBasket(item) {\n  return {\n    type: ADD_TO_BASKET,\n    payload: item,\n  };\n}\n\nexport function removeFromBasket(item) {\n  return {\n    type: REMOVE_FROM_BASKET,\n    payload: item,\n  };\n}\n\nexport function onInputSearch(text) {\n  return {\n    type: ON_INPUT,\n    payload: text.trim()\n  }\n}\n\nexport function onFetchClicked() {\n  return {\n    type: FETCH_CLICK,\n  }\n}","import React, { Component } from \"react\";\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\nimport Item from \"../Item\";\nimport \"./ItemsContainer.css\";\n\nexport default class ItemsContainer extends Component {\n  constructor(props) {\n    super(props)\n    this.myref = React.createRef();\n    this.state = {\n      numToShow: 14\n    }\n    this.intersectionObserver = new IntersectionObserver(entries => {\n      var ratio = entries[0].intersectionRatio;\n      if (ratio > 0) {\n        this.setState({ numToShow: this.state.numToShow + 5 });\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.intersectionObserver.observe(this.myref.current)\n  }\n\n  \n\n  render() {\n\n    const { items, byIds } = this.props;\n    const button = this.props.renderButton();\n    \n\n    return (\n      <Droppable droppableId={this.props.id}>\n        {(provided, snapshot) => {\n          return (\n            <div className=\"items-container\">\n              {button}\n              <ul\n                className=\"items-container__list\"\n                {...provided.droppableProps}\n                ref={provided.innerRef}\n                style={{\n                  background: snapshot.isDraggingOver\n                    ? \"lightblue\"\n                    : \"lightgrey\",\n                }}\n              >\n                {items.slice(0, this.state.numToShow).map((item, index) => (\n                  <Draggable\n                    draggableId={item}\n                    key={item}\n                    index={index}\n                  >\n                    {(provided, snapshot) => {\n                      return (\n                        <li\n                          className=\"items-container__item\"\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                          style={{\n                            backgroundColor: snapshot.isDragging\n                              ? \"#72d7ff\"\n                              : \"#d6efff\",\n                            ...provided.draggableProps.style,\n                          }}\n                        >\n                          <Item content={byIds[item].name} id={item} />\n                        </li>\n                      );\n                    }}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n                <div ref = {this.myref}></div>\n              </ul>\n              \n            </div>\n          );\n        }}\n      </Droppable>\n    );\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { onInputSearch } from '../../redux/actions';\nimport useDebounce from '../../customHooks/';\nimport \"./SearchPanel.css\";\n\nfunction SearchPanel({onInput}) {\n\n    const [term, setTerm] = useState(\"\");\n\n    const debouncedSearchTerm = useDebounce(term, 300);\n\n    useEffect(() => onInput(debouncedSearchTerm) , [debouncedSearchTerm, onInput]);\n\n\n    const inputHandler = (e) => {\n      setTerm(e.target.value)\n    }\n\n    return (\n        <input\n            className=\"search-input\"\n            type=\"text\"\n            placeholder=\"type to search\"\n            value={term}\n            onChange={inputHandler}\n        />\n    );\n}\n\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onInput: (text) => {\n            dispatch(onInputSearch(text))\n        }\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(SearchPanel)","import { useState, useEffect } from 'react';\n\n// Наш хук\nexport default function useDebounce(value, delay) {\n  // Состояние и сеттер для отложенного значения\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      // Выставить debouncedValue равным value (переданное значение) \n      // после заданной задержки\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      // Вернуть функцию очистки, которая будет вызываться каждый раз, когда ...\n      // ... useEffect вызван снова. useEffect будет вызван снова, только если ...\n      // ... value будет изменено (смотри ниже массив зависимостей).\n      // Так мы избегаем изменений debouncedValue, если значение value ...\n      // ... поменялось в рамках интервала задержки.\n      // Таймаут очищается и стартует снова.\n      // Что бы сложить это воедино: если пользователь печатает что-то внутри ...\n      // ... нашего приложения в поле поиска, мы не хотим, чтобы debouncedValue...\n      // ... не менялось до тех пор, пока он не прекратит печатать дольше, чем 500ms.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    // Вызывается снова, только если значение изменится\n    // мы так же можем добавить переменную \"delay\" в массива зависимостей ...\n    // ... если вы собираетесь менять ее динамически.\n    [value, delay]\n  );\n\n  return debouncedValue;\n}\n\n","import React, { useState, useRef } from 'react';\nimport { fetchCatalog, onFetchClicked } from \"../../redux/actions\";\nimport {useDispatch} from \"react-redux\";\nimport './PreloadCatalog.css';\n\n\nexport default function PreloadCatalog() {\n  const [allowToClick, setAllow] = useState(false)\n  const input1 = useRef();\n  const input2 = useRef();\n  const inputs = [input1, input2]\n  const checkHandler = () => {\n    setAllow(inputs.some((input) => input.current.checked))\n  }\n\n  const dispatch = useDispatch();\n  const fetchHandler = () => {\n    dispatch(fetchCatalog());\n    dispatch(onFetchClicked())\n  }\n\n  return (\n    <div className=\"preload\">\n      <div>\n        <span className=\"preload__question\">Выберите тип напитка:</span>\n        <div className=\"preload__controls\">\n          <input className=\"preload__input\" id=\"pivo\" ref={input1} onClick={checkHandler} name=\"drink\" type=\"radio\"/>\n          <label htmlFor=\"pivo\">Пиво</label>\n          <input className=\"preload__input\" id=\"beer\" ref={input2} onClick={checkHandler} name=\"drink\" type=\"radio\"/>\n          <label htmlFor=\"beer\">Beer</label>\n        </div>\n      </div>\n      <button type=\"button\" disabled={!allowToClick} className=\"preload__btn\" onClick={fetchHandler}>\n          Загрузить каталог\n      </button>\n    </div>\n  )\n}","import React from \"react\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addAllToBasket, dragItem, removeAllFromBasket} from \"../../redux/actions\";\nimport Loader from \"../Loader\";\nimport ItemsContainer from \"../ItemsContainer\";\nimport SearchPanel from \"../SearchPanel\";\n\nimport \"./CatalogItems.css\";\nimport PreloadCatalog from \"../PreloadCatalog\";\n\nconst CatalogItems = () => {\n  const dispatch = useDispatch();\n  const catalog = useSelector((state) => state.catalog.items);\n  const { columns, byIds } = catalog;\n  const { inStock, inBasket } = columns;\n  const isLoading = useSelector((state) => state.app.loading);\n  const isEmpty = (arr) => !arr.length;\n  const isClicked = useSelector((state) => state.button.clicked)\n\n \n\n  const addAllHandler = () => {\n    if (!!inStock.itemsIds.length) {\n      dispatch(addAllToBasket(inStock.itemsIds));\n    }\n  };\n\n  const removeAllHandler = () => {\n    if (!!inBasket.itemsIds.length) {\n      dispatch(removeAllFromBasket(inBasket.itemsIds));\n    }\n  };\n\n\n  if (isLoading) { \n    return <Loader />;\n  }\n\n  if (!isClicked) {\n    return (\n      <PreloadCatalog />\n    );\n  }\n\n  const onDragEnd = (result) => {\n    dispatch(dragItem(result));\n  }\n\n  return (\n    <React.Fragment>\n      <SearchPanel />\n      <div className=\"catalog__list\">\n        <DragDropContext onDragEnd={onDragEnd}>\n          <ItemsContainer\n            items={inStock.itemsIds}\n            byIds={byIds}\n            id={inStock.id}\n            renderButton={() => (\n              <button type=\"button\" disabled={isEmpty(inStock.itemsIds)} className=\"catalog__control\" onClick={addAllHandler}>Добавить все</button>\n            )}\n          />\n          <ItemsContainer\n            items={inBasket.itemsIds}\n            byIds={byIds}\n            id={inBasket.id}\n            renderButton={() => (\n                <button type=\"button\" disabled={isEmpty(inBasket.itemsIds)} className=\"catalog__control\" onClick={removeAllHandler}>Убрать все</button>\n            )}\n          />\n        </DragDropContext>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default CatalogItems;\n","import React from \"react\";\nimport CatalogItems from \"../CatalogItems\";\nimport \"./Catalog.css\"\n\n\nfunction Catalog() {\n  return (\n    <div className=\"catalog\">\n      <CatalogItems />\n    </div>\n  );\n}\n\nexport default Catalog;\n","import React from \"react\";\n\nfunction Home() {\n  return <h2>Welcome to the BeerShop!</h2>;\n}\n\nexport default Home;\n","import React from \"react\";\n\nfunction About() {\n  return <h2>Here you can find info about our company!</h2>;\n}\n\nexport default About;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport Nav from \"../Nav\";\nimport Catalog from \"../Catalog\";\nimport Home from \"../Home\";\nimport About from \"../About\";\nimport {MAIN_URL, CATALOG_URL, ABOUT_URL} from '../../router/paths';\n\nfunction App() {\n  return (\n    <Router>\n      <Nav />\n      <div className=\"App\">\n        <Switch>\n          <Route path={MAIN_URL} exact component={Home} />\n          <Route path={CATALOG_URL} component={Catalog} />\n          <Route path={ABOUT_URL} component={About} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { HIDE_LOADER, SHOW_LOADER } from \"./types\";\n\nconst initialState = {\n  loading: false,\n};\n\nexport const appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_LOADER:\n      return { ...state, loading: true };\n    case HIDE_LOADER:\n      return { ...state, loading: false };\n    default:\n      return state;\n  }\n};\n","import { FETCH_CATALOG, DRAG_ITEM, ADD_ALL_TO_BASKET, REMOVE_ALL_FROM_BASKET, ADD_TO_BASKET, REMOVE_FROM_BASKET, ON_INPUT } from \"./types\";\n\nconst initialState = {\n  items: {\n    columns: {\n      inStock:{ \n        id: \"inStock\",\n        itemsIds: [],\n        },\n      inBasket: { \n        id: \"inBasket\",\n        itemsIds: [],\n        },\n    },\n    byIds: {},\n  },\n};\n\nexport const itemsReducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case FETCH_CATALOG:\n      return fetchCatalogReducer(state, action);\n\n    case DRAG_ITEM:\n      return dragItemReducer(state, action);\n      \n    case ADD_ALL_TO_BASKET:\n      return addAllToBasketReducer(state, action);\n\n    case REMOVE_ALL_FROM_BASKET: \n      return removeAllFromBasketReducer(state, action);\n        \n    case ADD_TO_BASKET:\n      return addToBasketReducer(state, action);\n      \n    case REMOVE_FROM_BASKET:\n      return removeFromBasketReducer(state, action);\n\n    case ON_INPUT:\n      return onInputReducer(state, action);\n\n    default:\n      return state;\n  }\n};\n\n\n// FETCH_CATALOG\n\nconst fetchCatalogReducer = (state, action) => {\n  return {\n    ...state,\n    items: action.payload,\n  }\n}\n\n\n// DRAG_ITEM\n\nconst dragItemReducer = (state, action) => {\n  const {destination, source, draggableId} = action.result;\n\n  if (!destination) {\n    return state;\n  }\n  \n  if (\n    destination.droppableId === source.droppableId\n    && destination.index === source.index\n  ) {\n    return state;\n  }\n\n  const start = state.items.columns[source.droppableId];\n  const finish = state.items.columns[destination.droppableId]\n\n  if (start === finish) {\n    const newItemsIds = [...start.itemsIds];\n    newItemsIds.splice(source.index, 1);\n    newItemsIds.splice(destination.index, 0, draggableId);\n\n    const newColumn = {\n      ...start,\n      itemsIds: newItemsIds\n    }\n\n    return {\n      ...state,\n      items: {\n        columns: {\n        ...state.items.columns,\n        [newColumn.id]: newColumn\n        },\n        byIds: {\n        ...state.items.byIds\n        }\n      }\n    }\n  }\n\n  const startItemsId = [...start.itemsIds];\n  startItemsId.splice(source.index, 1);\n  const startColumn = {\n    ...start,\n    itemsIds: startItemsId\n  }\n\n  const finishItemsId = [...finish.itemsIds];\n  finishItemsId.splice(destination.index, 0, draggableId);\n  const finishColumn = {\n    ...finish,\n    itemsIds: finishItemsId\n  }\n\n  return {\n    ...state,\n    items: {\n      columns: {\n      ...state.items.columns,\n      [startColumn.id]: startColumn,\n      [finishColumn.id]: finishColumn\n    },\n    byIds: {\n      ...state.items.byIds\n      }\n    }\n  }\n}\n\n\n// ADD_ALL_TO_BASKET\n\nconst addAllToBasketReducer = (state, action) => {\n  return {\n    ...state,\n    items: {\n      ...state.items,\n      columns: {\n        \"inStock\": {\n          id: \"inStock\",\n          itemsIds: []\n        },\n        \"inBasket\": {\n          id: \"inBasket\",\n          itemsIds: [...state.items.columns.inBasket.itemsIds, ...action.payload]\n        }\n      }\n    }\n  };\n}\n\n\n\n// REMOVE_ALL_FROM_BASKET\n\nconst removeAllFromBasketReducer = (state, action) => {\n  return {\n    ...state,\n    items: {\n      byIds: {\n        ...state.items.byIds\n        },\n      columns: {\n        \"inStock\": {\n          id: \"inStock\",\n          itemsIds: [...action.payload, ...state.items.columns.inStock.itemsIds]\n        },\n        \"inBasket\": {\n          id: \"inBasket\",\n          itemsIds: []\n        }\n      }\n    }\n  };\n}\n\n// ADD_TO_BASKET\n\nconst addToBasketReducer= (state, action) => {\n  const addedItemIdx = state.items.columns.inStock.itemsIds.indexOf(action.payload);\n\n  return {\n    ...state,\n    items: {\n      byIds: {\n        ...state.items.byIds\n        },\n      columns: {\n        \"inStock\": {\n          id: \"inStock\",\n          itemsIds: [...state.items.columns.inStock.itemsIds.slice(0, addedItemIdx), ...state.items.columns.inStock.itemsIds.slice(addedItemIdx+1)]\n        },\n        \"inBasket\": {\n          id: \"inBasket\",\n          itemsIds: [...state.items.columns.inBasket.itemsIds, action.payload]\n        }\n      }\n    }\n  };\n}\n\n\n\n// REMOVE_FROM_BASKET\n\nconst removeFromBasketReducer= (state, action) => {\n  const removedItemIdx = state.items.columns.inBasket.itemsIds.indexOf(action.payload);\n\n  return {\n    ...state,\n    items: {\n      byIds: {\n        ...state.items.byIds\n        },\n      columns: {\n        \"inStock\": {\n          id: \"inStock\",\n          itemsIds: [action.payload, ...state.items.columns.inStock.itemsIds]\n        },\n        \"inBasket\": {\n          id: \"inBasket\",\n          itemsIds: \n            [...state.items.columns.inBasket.itemsIds.slice(0, removedItemIdx), \n            ...state.items.columns.inBasket.itemsIds.slice(removedItemIdx+1)]\n        }\n      }\n    }\n  };\n}\n\n\n// ON_INPUT\n\nconst onInputReducer= (state, action) => {\n  const searchText = action.payload ? action.payload : \"\"\n  return{\n    ...state,\n    items: {\n      ...state.items,\n      columns: {\n        ...state.items.columns,\n        \"inStock\": {\n          id: \"inStock\",\n          itemsIds: [\n            ...Object.keys(state.items.byIds).filter((key) => {\n              return state.items.byIds[key].name.toLowerCase().indexOf(searchText.toLowerCase()) > -1 &&\n                      state.items.columns.inBasket.itemsIds.indexOf(key) === -1\n            })\n          ]\n        }\n      },\n    },\n  }\n}\n\n","import { FETCH_CLICK } from \"./types\";\n\nconst initialState = {\n  clicked: false\n};\n\nexport const fetchClickReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_CLICK:\n      return { ...state, clicked: true };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { appReducer } from \"./appReducer\";\nimport { itemsReducer } from \"./itemsReducer\";\nimport { fetchClickReducer } from \"./fetchClickReducer\";\n\nexport const reducer = combineReducers({\n  catalog: itemsReducer,\n  app: appReducer,\n  button: fetchClickReducer\n});\n","import { compose, createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { reducer } from \"./redux/reducer\";\n\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(thunk),\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\n\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport store from \"./store\";\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\n"],"sourceRoot":""}